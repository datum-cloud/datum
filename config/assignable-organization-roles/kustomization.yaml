namespace: datum-cloud

patches:
  - path: patches/project-viewer.yaml
  - path: patches/project-admin.yaml
  - path: patches/telemetry-viewer.yaml
  - path: patches/telemetry-admin.yaml
  - path: patches/networking-viewer.yaml
  - path: patches/networking-admin.yaml
  - path: patches/gateway-viewer.yaml
  - path: patches/gateway-admin.yaml
  - path: patches/domain-viewer.yaml
  - path: patches/domain-admin.yaml

resources:
  - namespace.yaml
  # Grant authenticated users access to these roles
  - role-access/viewer-role.yaml
  - role-access/viewer-role-binding.yaml

  # Top-level owner / viewer roles for each permission management
  - roles/datum-cloud-owner.yaml
  - roles/datum-cloud-viewer.yaml
  - roles/organization-admin.yaml
  - roles/organization-viewer.yaml

  # Project roles
  - https://raw.githubusercontent.com/datum-cloud/milo/refs/tags/v0.5.3/config/roles/project-viewer.yaml
  - https://raw.githubusercontent.com/datum-cloud/milo/refs/tags/v0.5.3/config/roles/project-admin.yaml

  # Telemetry roles
  - https://raw.githubusercontent.com/datum-cloud/telemetry-services-operator/refs/tags/v0.2.0/config/iam/roles/telemetry-viewer.yaml
  - https://raw.githubusercontent.com/datum-cloud/telemetry-services-operator/refs/tags/v0.2.0/config/iam/roles/telemetry-admin.yaml

  # Networking roles
  #
  # TODO: Point to release version once tagged
  - https://raw.githubusercontent.com/datum-cloud/network-services-operator/refs/heads/main/config/iam/roles/gateway-viewer.yaml
  - https://raw.githubusercontent.com/datum-cloud/network-services-operator/refs/heads/main/config/iam/roles/gateway-admin.yaml
  - https://raw.githubusercontent.com/datum-cloud/network-services-operator/refs/heads/main/config/iam/roles/domain-viewer.yaml
  - https://raw.githubusercontent.com/datum-cloud/network-services-operator/refs/heads/main/config/iam/roles/domain-admin.yaml
  - https://raw.githubusercontent.com/datum-cloud/network-services-operator/refs/heads/main/config/iam/roles/networking-viewer.yaml
  - https://raw.githubusercontent.com/datum-cloud/network-services-operator/refs/heads/main/config/iam/roles/networking-admin.yaml
